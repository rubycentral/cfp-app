= simple_form_for [current_event, :staff, page] do |f|
  .preview-flex{ data: { controller: :editor } }
    .resize
      .inner
        = f.input :name
        = f.input :slug
        = f.input :hide_header, as: :boolean, wrapper: :vertical_radio_and_checkboxes
        = f.input :hide_footer, as: :boolean, wrapper: :vertical_radio_and_checkboxes
        %div{ data: { controller: :editor } }
          %div{ data: { "editor-target": :wysiwyg } }
            = f.input :unpublished_body,
              as: :text,
              input_html: { data: { "editor-target": :wysiwygContent } }
            = link_to("Edit HTML", '#', { data: { action: "click->editor#editHtml" } })
          %div{ data: { "editor-target": :html }, class: 'hidden' }
            = f.input :unpublished_body,
              as: :text,
              input_html: { data: { "editor-target": :htmlContent }, disabled: true }
            = link_to("WYSIWYG", '#', { data: { action: "click->editor#wysiwyg" } })
    .resize
      #page-preview-wrapper
        %h4 Preview Page
        %iframe{ src: "#{event_staff_page_path(current_event, @page)}",
                 id: "page-preview" }
  .row
    .col-sm-12
      = submit_tag("Save", class: "btn btn-success", type: "submit")
      = link_to "Cancel", event_staff_pages_path(current_event), {:class=>"cancel-form btn btn-danger"}
