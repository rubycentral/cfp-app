#sessions
  .row
    .col-md-12
      %header
        .btn-nav.pull-right
          = link_to event_staff_sessions_path(format: :csv), class: "btn btn-info" do
            %span.glyphicon.glyphicon-download-alt
            Download as CSV

          = link_to event_staff_sessions_path(format: :json),
              class: "btn btn-info pull-right" do
            %span.glyphicon.glyphicon-download-alt
            Download as JSON

        %h3.pull-left Sessions
        = link_to "Add Session",
            new_event_staff_session_path,
            remote: true,
            class: "btn pull-left btn-primary btn-sm pull-left " + (has_missing_requirements?(event) ? 'disabled' : ''),
            data: { toggle: 'modal', target: "#session-new-dialog" },
            id: 'add-session'
  .row
    .col-md-12
      #session-prereqs.clearfix{ class: has_missing_requirements?(event) ? '' : 'hidden' }
        %h5.text-danger{ id: 'missing-prereq-head' }
          The following must be resolved before adding a new session:
        %ul#missing-prereq-messages.list-group
          = unmet_requirements(event)

  %hr
  .row.margin-top
    .col-md-12
      %table#organizer-sessions.datatable.table.table-striped
        %thead
          %tr
            %th
            %th
            %th
            %th
            %th
            %th
            %th
            %th
            %th
          %tr
            %th Conference Day
            %th Start Time
            %th End Time
            %th Title
            %th Presenter
            %th Room
            %th Track
            %th ID
            %th.actions Actions
        %tbody
          - sessions.each do |session|
            %tr{ id: "session_#{session.id}" }
              - session.row_data.each do |cell|
                %td= cell
              %td.actions
                = session.session_buttons

