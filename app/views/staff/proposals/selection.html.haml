= render 'shared/event_info_bar', event: event
.row
  .col-md-8
    %h1 Program Selection
.row
  &nbsp;

.row
  .col-sm-8.text-start
    %ul.selection-counts
      %li.total.soft-accepted
        %span Accepted
        %span.badge= @all_accepted_count
      %li.total.soft-waitlisted
        %span Waitlisted
        %span.badge= @all_waitlisted_count
  .col-sm-4.text-end
    %small.text-end <em>Hint:</em> Hold <kbd>shift</kbd> to sort by multiple columns

.row
  .col-md-12
    %table.datatable.table.table-striped.proposal-list{data: {controller: 'cfp-datatable', cfp_column_types: '["text", "text", "text", null, "text", "text", "text", "text"]'}}
      %thead
        %tr
          %th
          %th
          %th
          %th
          %th
          %th
          %th
          %th.actions
        %tr
          %th Score
          %th Speakers
          %th Talk Title
          %th Track
          %th Session Format
          %th Reviewer Tags
          %th Status
          %th.actions Soft Actions (Internal)
      %tbody
        - @proposals.each do |proposal|
          %tr{ class: "proposal-#{proposal.id}", data: { 'proposal-id' => proposal.id, 'proposal-uuid' => proposal.uuid } }
            %td= proposal.average_rating
            %td= proposal.speaker_names
            %td= proposal.title_link
            %td= proposal.track_name
            %td= proposal.session_format_name
            %td= proposal.review_tags_labels
            %td
              = render 'staff/proposals/proposal_status', proposal: proposal, context: 'index', small: true, show_confirmed: true
            %td
              = render 'staff/proposals/proposal_state_buttons', proposal: proposal, context: 'index', buttons: proposal.small_state_buttons
